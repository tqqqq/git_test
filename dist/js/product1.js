"use strict";var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };function local1(e) {window.localStorage.classname = e.innerHTML, window.open("product.html");}function choose(e) {for (var n = e.parentNode.children, t = 0; t < n.length; t++) {n[t].style.border = "none";}e.style.border = "1px solid black", e.parentNode.nextElementSibling.children[4].value = "库存：12";}function sub(e) {1 == e.nextElementSibling.value ? e.disabled = !0 : (e.nextElementSibling.value = e.nextElementSibling.value - 1, e.nextElementSibling.nextElementSibling.disabled = !1);}function add(e) {5 == e.previousElementSibling.value ? e.disabled = !0 : (e.previousElementSibling.previousElementSibling.disabled = !1, e.previousElementSibling.value = parseFloat(e.previousElementSibling.value) + 1);}function write1(e) {console.log(_typeof(parseFloat(e.value))), console.log(parseFloat(e.value)), 0 == /^[0-9]*$/.test(e.value) || "" == e.value ? e.value = 1 : parseFloat(e.value) < 1 ? e.value = 1 : 5 < parseFloat(e.value) ? e.value = 5 : /^\d+(\.\d+)?$/.test(e.value) ? e.value = parseInt(e.value) : e.value = parseFloat(e.value);}var xmlhttp,img_big = document.getElementById("img_big"),img_small = document.getElementsByClassName("img_small"),pro_info = document.getElementsByClassName("pro_info")[0],h1 = pro_info.children[0],much = pro_info.getElementsByClassName("much")[0];function add_cart() {document.getElementById("username");var e = document.getElementById("go_count");if (window.localStorage.userName) {var n = document.getElementById("pro_count");e.innerHTML = Number(e.innerHTML) + Number(n.value), window.localStorage.gogocount = e.innerHTML;var t = window.localStorage.product_info,l = h1.innerHTML,o = much.innerHTML,i = window.localStorage.userName;xmlhttp.open("GET", "php/addtocar.php?src=" + t + "&title_shujuku=" + l + "&price_shujuku=" + o + "&ower_shujuku=" + i, !0), xmlhttp.send();} else window.open("login.html");}function quit(e) {e.onclick = function () {if (confirm("确认退出吗？")) {this.innerHTML = "", this.previousElementSibling.innerHTML = "注册";var e = document.getElementById("username");e.innerHTML = "登录", e.nextElementSibling.innerHTML = "", window.localStorage.userName = "";var n = document.getElementById("go_count");console.log(n), n.innerHTML = "0";}};}xmlhttp = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject("Microsoft.XMLHTTP"), window.onload = function () {if (window.localStorage.userName) {if (window.localStorage.gogocount) document.getElementById("go_count").innerHTML = window.localStorage.gogocount;var e = document.getElementById("username"),n = document.getElementById("sign_up_quit"),t = document.createElement("a");n.innerHTML = "", n.parentNode.appendChild(t), t.innerHTML = "[退出]", t.id = "quit", e.innerHTML = "";var l = document.createElement("span");e.parentNode.appendChild(l);var o = window.localStorage.userName;l.innerHTML = "欢迎您！" + o, l.style.color = "#F01BC0", quit(t);}var i = window.localStorage.product_info;xmlhttp.open("GET", "php/product.php?src=" + i, !0), xmlhttp.send(), xmlhttp.onreadystatechange = function () {var e = JSON.parse(xmlhttp.responseText);img_big.setAttribute("src", e[0].src), h1.innerHTML = e[0].title, much.innerHTML = e[0].price, img_small[0].setAttribute("src", e[0].small_img1), img_small[1].setAttribute("src", e[0].small_img2), img_small[2].setAttribute("src", e[0].small_img3), img_small[3].setAttribute("src", e[0].small_img4);for (var n = 0; n < img_small.length; n++) {img_small[n].onclick = function (e) {for (var n = 0; n < img_small.length; n++) {img_small[n].style.border = "none";}img_big.setAttribute("src", this.src), this.style.border = "1px solid black";};}};};